{"version":3,"sources":["util.js","apiService.js","SignIn.js","Home.js","index.js"],"names":["checkSessionIsActive","name","isCookieAvailable","document","cookie","split","some","includes","window","location","pathname","replace","origin","getCookie","decodeURIComponent","find","trim","apiCall","url","arguments","length","undefined","data","method","fetch","cache","credentials","headers","Content-Type","redirect","referrer","body","JSON","stringify","then","response","json","apiService","get","apply","post","flag","_len","args","Array","_key","concat","put","_len2","_key2","SignIn","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","poolData","UserPoolId","ClientId","setEmail","email","setState","setPassword","password","setVerification","verificationCode","toggleView","state","addUser","raw","user","setCookie","accessToken","moment","add","utc","format","signUp","_this$state","confirmView","userPool","CognitoUserPool","attributeList","dataEmail","Name","Value","attributeEmail","CognitoUserAttribute","attributeName","push","err","result","alert","message","signIn","authenticationData","Username","Password","authenticationDetails","AuthenticationDetails","userData","Pool","CognitoUser","authenticateUser","onSuccess","getAccessToken","getJwtToken","history","onFailure","confirmUser","_this$state2","confirmRegistration","cognitoUser","getCurrentUser","getSession","session","_this2","_this$state3","react_default","a","createElement","className","width","src","alt","id","label","type","onChange","e","target","value","onClick","href","Component","getAllBooks","isLoading","r","books","bookList","getUerConfig","userInfo","assignBook","assigned_book","requestBook","bookId","returnBook","serachBook","searchedBooks","filter","book","bookName","toLowerCase","forEach","key","height","placeholder","role","map","availability","issuedTo","issued_to","issued_on","issued_till","disabled","requestQueue","App","react_router_dom","react_router","path","component","exact","Home","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.efa6fbcd.chunk.js","sourcesContent":["export const checkSessionIsActive = name => {\n  const isCookieAvailable = document.cookie\n    .split(\";\")\n    .some(cookie => cookie.includes(\"accessToken\"));\n  if (!isCookieAvailable && window.location.pathname !== \"/\") {\n    window.location.replace(window.location.origin);\n  }\n  return isCookieAvailable;\n};\n\nexport const getCookie = name =>\n  document.cookie &&\n  decodeURIComponent(\n    document.cookie\n      .split(\";\")\n      .find(cookie => name === cookie.split(\"=\")[0].trim())\n      .split(\"=\")[1]\n  );\n\nexport const removeCookies = () => {\n  const cookies = document.cookie.split(\";\");\n  cookies.forEach(cookie => {\n    const key = cookie.split(\"=\");\n    document.cookie = key[0] + \" =; expires = Thu, 01 Jan 1970 00:00:00 UTC\";\n  });\n};\n","import {checkSessionIsActive} from \"./util\"; \nconst apiCall = (url = \"\", data = {}, method) =>\n  fetch(url, {\n    method,\n    cache: \"no-cache\",\n    credentials: \"same-origin\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    redirect: \"follow\",\n    referrer: \"no-referrer\",\n    body: JSON.stringify(data)\n  }).then(response => response.json());\n\nconst get = url => fetch(url);\nconst post = (...args) =>\n  apiCall(...args, \"POST\");\nconst put = (...args) =>\n  apiCall(...args, \"PUT\");\nexport default {\n  get: function(...args) {\n    if (checkSessionIsActive()) {\n      return get(...args);\n    }\n  },\n  post: function(url,data,flag = false) {\n    if (checkSessionIsActive() || flag) {\n      return post(url,data);\n    }\n  },\n  put: function(...args) {\n    if (checkSessionIsActive()) {\n      return put(...args);\n    }\n  }\n};\n","import {\n  CognitoUserPool,\n  CognitoUserAttribute,\n  CognitoUser,\n  AuthenticationDetails\n} from \"amazon-cognito-identity-js\";\nimport moment from \"moment\";\nimport { checkSessionIsActive } from \"./util.js\";\nimport raw from \"./apiService\";\nimport React, { Component } from \"react\";\nimport \"./style.css\";\n\nexport default class SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      toggleView: false,\n      confirmView: false,\n      verificationCode: \"\"\n    };\n  }\n\n  poolData = {\n    UserPoolId: \"ap-south-1_FenySRVT7\", // Your user pool id here\n    ClientId: \"3dkoljtulnt2gm119v99lu0d3\" // Your client id here\n  };\n\n  isSessionValid() {\n    const userPool = new CognitoUserPool(this.poolData);\n    const cognitoUser = userPool.getCurrentUser();\n\n    if (cognitoUser != null) {\n      cognitoUser.getSession(function(err, session) {\n        if (err) {\n          alert(err.message || JSON.stringify(err));\n          return;\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (checkSessionIsActive()) {\n      this.props.history.push(\"/home\");\n    }\n  }\n\n  setEmail = email => this.setState({ email });\n  setPassword = password => this.setState({ password });\n  setVerification = verificationCode => this.setState({ verificationCode });\n  toggleView = () =>\n    this.setState({\n      toggleView: !this.state.toggleView,\n      email: \"\",\n      password: \"\"\n    });\n\n  poolData = {\n    UserPoolId: \"ap-south-1_FenySRVT7\", // Your user pool id here\n    ClientId: \"3dkoljtulnt2gm119v99lu0d3\" // Your client id here\n  };\n  addUser = email => {\n    raw.post(\n      \"http://172.19.4.39:4000/user/addUser\",\n      {\n        user: email\n      },\n      true\n    );\n  };\n  setCookie = (name, accessToken) => {\n    document.cookie =\n      name +\n      \"=\" +\n      accessToken +\n      \"; expires=\" +\n      moment()\n        .add(60, \"minutes\")\n        .utc()\n        .format(\"ddd, DD MMM YYYY HH:mm:ss \" + \"UTC\") +\n      \"; path=/;\";\n  };\n\n  signUp = () => {\n    const { email, password, confirmView } = this.state;\n    const userPool = new CognitoUserPool(this.poolData);\n    const attributeList = [];\n\n    const dataEmail = {\n      Name: \"email\",\n      Value: email\n    };\n    var dataName = {\n      Name: \"name\",\n      Value: \"karan\"\n    };\n\n    const attributeEmail = new CognitoUserAttribute(dataEmail);\n    const attributeName = new CognitoUserAttribute(dataName);\n\n    attributeList.push(attributeEmail);\n    attributeList.push(attributeName);\n\n    userPool.signUp(email, password, attributeList, null, (err, result) => {\n      if (err) {\n        alert(err.message || JSON.stringify(err));\n        return;\n      }\n      this.addUser(email);\n    });\n    this.setState({ confirmView: !confirmView });\n  };\n\n  signIn = () => {\n    const authenticationData = {\n      Username: this.state.email,\n      Password: this.state.password\n    };\n    var authenticationDetails = new AuthenticationDetails(authenticationData);\n\n    const userPool = new CognitoUserPool(this.poolData);\n    const userData = {\n      Username: this.state.email,\n      Pool: userPool\n    };\n    const cognitoUser = new CognitoUser(userData);\n    cognitoUser.authenticateUser(authenticationDetails, {\n      onSuccess: result => {\n        const accessToken = result.getAccessToken().getJwtToken();\n\n        this.setCookie(\"accessToken\", accessToken);\n        this.setCookie(\"userName\", this.state.email);\n        this.setState({ email: \"\", password: \"\" });\n\n        this.props.history.push(\"/home\");\n      },\n\n      onFailure: function(err) {\n        alert(err.message || JSON.stringify(err));\n      }\n    });\n  };\n\n  confirmUser = () => {\n    const { email, verificationCode, toggleView, confirmView } = this.state;\n\n    const userPool = new CognitoUserPool(this.poolData);\n    const userData = {\n      Username: email,\n      Pool: userPool\n    };\n\n    var cognitoUser = new CognitoUser(userData);\n    cognitoUser.confirmRegistration(verificationCode, true, (err, result) => {\n      if (err) {\n        alert(err.message || JSON.stringify(err));\n        return;\n      }\n      this.setState({ toggleView: !toggleView, confirmView: !confirmView });\n    });\n  };\n  render() {\n    const { toggleView, confirmView } = this.state;\n\n    return (\n      <body>\n        <div className=\"card\">\n          {!confirmView && (\n            <div>\n              <div>\n                <img\n                  width=\"150\"\n                  src=\"data:image/png;base64, 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\"\n                />\n                <h2>{toggleView ? \"Sign Up\" : \"Sign In\"}</h2>\n                <img\n                  src=\"data:image/png;base64,   iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAnFBMVEVHcExBQUH7jAD7jABCQkJCQkJCQkJDQ0MzMzP7jABBQUH7jABBQUH7jAD7jABCQkJAQEBCQkL/iQD/jgBCQkJDQ0P4jgBCQkKAgIBAQEBGRkb6jABCQkJBQUFERERCQkL4jQBDQ0NBQUFBQUH4igBCQkJCQkJCQkJCQkL7jABCQkJCQkJCQkL7jABCQkLHbgDffADNcQD6jADMcQAiqZrJAAAALXRSTlMApO3y2v7zVAWrT/EvrfCHOPgcG9iGJNcCDAup+U4x5CaRlDclMqOTNuzl9JJBWZ4xAAAA50lEQVRIx+2W2Q7CIBBFrbWluFbr0lr3fUOh/f9/c4gaTLCDPJgY4327yT0wQ2BCqfSbCogzOPoDhwTv5auV812V6hvxuHVW8nqxEXjOg3rGejxItU/L4TDcjuQeY0O/sv5p/WYmB9kH3jmR69cfbi33ICjgQGKu7ALsBgW6kNgpG4LtooAPiUTZBKyPAvIkMf/lQIe6rEBuY/UiX2aIypEGUIYq1QAXB5oawAz6AxqQ8VzwzALgFxC3AHIJ5BaAkID4ZEkZF3ZN/+9SAVCzfaINHKAaMNujY6avD6YoLayqRvs/9a+4AhVDpQt5SF++AAAAAElFTkSuQmCC\"\n                  alt=\"\"\n                />\n              </div>\n              <div>\n                <input\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  type=\"text\"\n                  onChange={e => this.setEmail(e.target.value)}\n                />\n              </div>\n              <div>\n                <input\n                  onChange={e => this.setPassword(e.target.value)}\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                />\n              </div>\n              <div>\n                <button\n                  className=\"button-primary\"\n                  onClick={() => (toggleView ? this.signUp() : this.signIn())}\n                >\n                  {toggleView ? \"Sign Up\" : \"Sign In\"}\n                </button>\n              </div>\n              {!toggleView && (\n                <a href=\"#\" onClick={() => this.toggleView()}>\n                  {\"Don't have an account? Sign Up\"}\n                </a>\n              )}\n            </div>\n          )}\n          {confirmView && (\n            <div>\n              <input\n                onChange={e => this.setVerification(e.target.value)}\n                name=\"verification\"\n                label=\"verification\"\n                type=\"input\"\n                id=\"password\"\n              />\n              <button\n                className=\"button-primary\"\n                onClick={() => this.confirmUser()}\n              >\n                Confirm\n              </button>\n            </div>\n          )}\n        </div>\n      </body>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport raw from \"./apiService\";\nimport { getCookie, removeCookies } from \"./util\";\nimport \"./style.css\";\n\nexport default class SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      bookList: [],\n      userInfo: {},\n      isLoading: false\n    };\n  }\n\n  getAllBooks = () => {\n    this.setState({ isLoading: true });\n    return raw\n      .post(\"http://172.19.4.39:4000/book/getBooks\", {\n        id: getCookie(\"userName\")\n      })\n      .then(r => {\n        this.setState({ books: r, bookList: r, isLoading: false });\n      });\n  };\n\n  getUerConfig = () => {\n    this.setState({ isLoading: true });\n\n    return raw\n      .post(\"http://172.19.4.39:4000/user/getUser\", {\n        user: getCookie(\"userName\")\n      })\n      .then(r => {\n        this.setState({ userInfo: r[0], isLoading: false });\n      });\n  };\n\n  componentDidMount() {\n    this.getAllBooks();\n    this.getUerConfig();\n  }\n  assignBook = id =>\n    raw\n      .post(\"http://172.19.4.39:4000/user/assign\", {\n        user: getCookie(\"userName\"),\n        assigned_book: id\n      })\n      .then(r => {\n        alert(\"This book has been assigned to you.\");\n\n        this.getAllBooks();\n        this.getUerConfig();\n      });\n  requestBook = id =>\n    raw\n      .post(\"http://172.19.4.39:4000/user/requestBook\", {\n        user: getCookie(\"userName\"),\n        bookId: id\n      })\n      .then(r => {\n        alert(r.err);\n        this.getUerConfig();\n      });\n  returnBook = id =>\n    raw\n      .post(\"http://172.19.4.39:4000/user/returnBook\", {\n        user: getCookie(\"userName\"),\n        bookId: id\n      })\n      .then(r => {\n        this.getUerConfig();\n        this.getAllBooks();\n      });\n\n  serachBook = value => {\n    const searchedBooks = this.state.books.filter(book => {\n      if (!value.length) return true;\n      return book.bookName.toLowerCase().includes(value);\n    });\n    this.setState({ bookList: searchedBooks });\n  };\n  render() {\n    const { bookList, userInfo, isLoading } = this.state;\n    return (\n      <div>\n        <div className=\"header\">\n          <div>\n            <img\n              width=\"150\"\n              src=\"data:image/png;base64, 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\"\n            />\n          </div>\n          <div>\n            <img\n              src=\"https://img.icons8.com/cotton/64/000000/user-male-circle.png\"\n              onClick={() => {\n                removeCookies();\n                this.props.history.push(\"/\");\n              }}\n              height=\"50\"\n              width=\"50\"\n            />\n          </div>\n        </div>\n        {isLoading ? (\n          <div className=\"loader\" />\n        ) : (\n          <div className=\"card-home\">\n            <div className=\"searchBox\">\n              <input\n                className=\"input-search\"\n                type=\"text\"\n                placeholder=\"Search your book....\"\n                onChange={e => this.serachBook(e.target.value)}\n              />\n            </div>\n            <div className=\"table-book\">\n              {userInfo.role === 1 ? (\n                <table>\n                  <thead>\n                    <tr>\n                      <th>Book</th>\n                      <th>Available</th>\n                      <th>Issued to</th>\n                      <th>Issued At</th>\n                      <th>Issued Till</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {bookList.map(book => (\n                      <tr key={book.bookId}>\n                        <td>{book.bookName}</td>\n                        <td>{book.availability ? \"Yes\" : \"No\"}</td>\n                        <td>\n                          {book.issuedTo === getCookie(\"userName\")\n                            ? \"Me\"\n                            : book.issued_to}\n                        </td>\n                        <td>{book.issued_on}</td>\n                        <td>{book.issued_till}</td>\n\n                        <td>\n                          {userInfo.assigned_book === 0 ||\n                          userInfo.assigned_book === null ? (\n                            book.availability ? (\n                              <button\n                                onClick={() => this.assignBook(book.bookId)}\n                              >\n                                Assign\n                              </button>\n                            ) : (\n                              <button\n                                disabled={\n                                  userInfo.requestQueue.length &&\n                                  userInfo.requestQueue.some(\n                                    r => r === book.bookId\n                                  )\n                                }\n                                onClick={() => {\n                                  this.requestBook(book.bookId);\n                                }}\n                              >\n                                Interested\n                              </button>\n                            )\n                          ) : (\n                            book.bookId === userInfo.assigned_book && (\n                              <button\n                                onClick={() => {\n                                  this.returnBook(book.bookId);\n                                }}\n                              >\n                                Return\n                              </button>\n                            )\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <table>\n                  <thead>\n                    <tr>\n                      <th>Book</th>\n                      <th>Available</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {bookList.map(book => (\n                      <tr key={book.bookId}>\n                        <td>{book.bookName}</td>\n                        <td>{book.availability ? \"Yes\" : \"No\"}</td>\n                        <td>\n                          {userInfo.assigned_book === 0 ||\n                          userInfo.assigned_book === null ? (\n                            book.availability ? (\n                              <button\n                                onClick={() => this.assignBook(book.bookId)}\n                              >\n                                Assign\n                              </button>\n                            ) : (\n                              <button\n                                disabled={\n                                  userInfo.requestQueue.length &&\n                                  userInfo.requestQueue.some(\n                                    r => r === book.bookId\n                                  )\n                                }\n                                onClick={() => {\n                                  this.requestBook(book.bookId);\n                                }}\n                              >\n                                Interested\n                              </button>\n                            )\n                          ) : (\n                            book.bookId === userInfo.assigned_book && (\n                              <button\n                                onClick={() => {\n                                  this.returnBook(book.bookId);\n                                }}\n                              >\n                                Return\n                              </button>\n                            )\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport SignIn from \"./SignIn\";\nimport Home from \"./Home\";\nimport \"./style.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n  }\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route path=\"/\" component={SignIn} exact />\n          <Route path=\"/home\" component={Home} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}