{"ast":null,"code":"import { checkSessionIsActive } from \"./util\";\n\nconst apiCall = (url = \"\", data = {}, method) => fetch(url, {\n  method,\n  cache: \"no-cache\",\n  credentials: \"same-origin\",\n  headers: {\n    \"Content-Type\": \"application/json\" // 'Content-Type': 'application/x-www-form-urlencoded',\n\n  },\n  redirect: \"follow\",\n  referrer: \"no-referrer\",\n  body: JSON.stringify(data)\n}).then(response => response);\n\nconst get = url => fetch(url);\n\nconst post = (...args) => apiCall(...args, \"POST\");\n\nconst put = (...args) => apiCall(...args, \"PUT\");\n\nexport default {\n  get: function (...args) {\n    if (checkSessionIsActive()) {\n      return get(...args);\n    }\n  },\n  post: function (url, data, flag = false) {\n    if (checkSessionIsActive() || flag) {\n      return post(url, data);\n    }\n  },\n  put: function (...args) {\n    if (checkSessionIsActive()) {\n      return put(...args);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/karanb/book-club/fellowship-book-keeper/src/apiService.js"],"names":["checkSessionIsActive","apiCall","url","data","method","fetch","cache","credentials","headers","redirect","referrer","body","JSON","stringify","then","response","get","post","args","put","flag"],"mappings":"AAAA,SAAQA,oBAAR,QAAmC,QAAnC;;AACA,MAAMC,OAAO,GAAG,CAACC,GAAG,GAAG,EAAP,EAAWC,IAAI,GAAG,EAAlB,EAAsBC,MAAtB,KACdC,KAAK,CAACH,GAAD,EAAM;AACTE,EAAAA,MADS;AAETE,EAAAA,KAAK,EAAE,UAFE;AAGTC,EAAAA,WAAW,EAAE,aAHJ;AAITC,EAAAA,OAAO,EAAE;AACP,oBAAgB,kBADT,CAEP;;AAFO,GAJA;AAQTC,EAAAA,QAAQ,EAAE,QARD;AASTC,EAAAA,QAAQ,EAAE,aATD;AAUTC,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf;AAVG,CAAN,CAAL,CAWGW,IAXH,CAWQC,QAAQ,IAAIA,QAXpB,CADF;;AAcA,MAAMC,GAAG,GAAGd,GAAG,IAAIG,KAAK,CAACH,GAAD,CAAxB;;AACA,MAAMe,IAAI,GAAG,CAAC,GAAGC,IAAJ,KACXjB,OAAO,CAAC,GAAGiB,IAAJ,EAAU,MAAV,CADT;;AAEA,MAAMC,GAAG,GAAG,CAAC,GAAGD,IAAJ,KACVjB,OAAO,CAAC,GAAGiB,IAAJ,EAAU,KAAV,CADT;;AAEA,eAAe;AACbF,EAAAA,GAAG,EAAE,UAAS,GAAGE,IAAZ,EAAkB;AACrB,QAAIlB,oBAAoB,EAAxB,EAA4B;AAC1B,aAAOgB,GAAG,CAAC,GAAGE,IAAJ,CAAV;AACD;AACF,GALY;AAMbD,EAAAA,IAAI,EAAE,UAASf,GAAT,EAAaC,IAAb,EAAkBiB,IAAI,GAAG,KAAzB,EAAgC;AACpC,QAAIpB,oBAAoB,MAAMoB,IAA9B,EAAoC;AAClC,aAAOH,IAAI,CAACf,GAAD,EAAKC,IAAL,CAAX;AACD;AACF,GAVY;AAWbgB,EAAAA,GAAG,EAAE,UAAS,GAAGD,IAAZ,EAAkB;AACrB,QAAIlB,oBAAoB,EAAxB,EAA4B;AAC1B,aAAOmB,GAAG,CAAC,GAAGD,IAAJ,CAAV;AACD;AACF;AAfY,CAAf","sourcesContent":["import {checkSessionIsActive} from \"./util\"; \nconst apiCall = (url = \"\", data = {}, method) =>\n  fetch(url, {\n    method,\n    cache: \"no-cache\",\n    credentials: \"same-origin\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    redirect: \"follow\",\n    referrer: \"no-referrer\",\n    body: JSON.stringify(data)\n  }).then(response => response);\n\nconst get = url => fetch(url);\nconst post = (...args) =>\n  apiCall(...args, \"POST\");\nconst put = (...args) =>\n  apiCall(...args, \"PUT\");\nexport default {\n  get: function(...args) {\n    if (checkSessionIsActive()) {\n      return get(...args);\n    }\n  },\n  post: function(url,data,flag = false) {\n    if (checkSessionIsActive() || flag) {\n      return post(url,data);\n    }\n  },\n  put: function(...args) {\n    if (checkSessionIsActive()) {\n      return put(...args);\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}